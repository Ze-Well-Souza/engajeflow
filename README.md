# TechCare Connect Automator: Impulsione seu Neg√≥cio nas Redes Sociais

**Desenvolvido para o pequeno e m√©dio empreendedor, formal ou informal, que busca crescer e engajar mais clientes atrav√©s das m√≠dias sociais.**

O TechCare Connect Automator √© sua ferramenta completa para automatizar e otimizar sua presen√ßa online, liberando seu tempo para focar no que realmente importa: seu neg√≥cio.

## üéØ Para Quem √© Este Projeto?

Voc√™ √© um(a) empreendedor(a) buscando:

*   **Aumentar o engajamento** com seus clientes no Instagram, Facebook, WhatsApp, YouTube, TikTok e Telegram?
*   **Automatizar postagens** e intera√ß√µes para manter sua marca ativa e consistente?
*   **Gerenciar m√∫ltiplos perfis** de redes sociais de forma centralizada e eficiente?
*   **Obter insights valiosos** sobre o desempenho das suas campanhas e o sentimento dos seus clientes?
*   **Simplificar tarefas repetitivas** de marketing digital e atendimento ao cliente?
*   **Integrar suas opera√ß√µes** de m√≠dia social com outras ferramentas de gest√£o (como a plataforma TechCare, se aplic√°vel)?

Se sim, o TechCare Connect Automator foi feito para voc√™!

## ‚ú® Funcionalidades Detalhadas

Esta plataforma robusta oferece um conjunto poderoso de ferramentas para transformar sua estrat√©gia digital:

*   **Conex√£o Multicanal**: Integre e gerencie suas contas de **Instagram, Facebook, WhatsApp, YouTube, TikTok e Telegram** em um √∫nico lugar.
*   **Automa√ß√£o de Conte√∫do**: Agende e publique posts, v√≠deos e stories automaticamente em m√∫ltiplos canais, garantindo presen√ßa constante.
*   **Engajamento Inteligente**: Configure respostas autom√°ticas para coment√°rios e mensagens, gerencie intera√ß√µes e mantenha o di√°logo com seus seguidores (requer configura√ß√£o e pode depender das APIs de cada plataforma).
*   **Intelig√™ncia Artificial (IA) para Neg√≥cios**: Utilize o poder da IA (integrado com Google Gemini) para:
    *   **Gerar Insights**: Analise tend√™ncias de mercado e o sentimento dos seus clientes em rela√ß√£o √† sua marca.
    *   **Criar Conte√∫do**: Receba sugest√µes de posts, legendas e respostas otimizadas para seu p√∫blico.
    *   **An√°lise de Texto**: Classifique e sumarize automaticamente grandes volumes de coment√°rios ou mensagens.
    *   **Consultoria Virtual**: Obtenha an√°lises e sugest√µes personalizadas para suas estrat√©gias de marketing e at√© mesmo financeiras (com base nos dados dispon√≠veis).
*   **Dashboard de Controle Centralizado**: Uma interface web intuitiva para:
    *   Configurar todas as conex√µes e automa√ß√µes.
    *   Agendar posts e campanhas.
    *   Monitorar o status das tarefas em tempo real.
    *   Visualizar m√©tricas e relat√≥rios de desempenho.
*   **An√°lise e Relat√≥rios**: Acompanhe m√©tricas chave de engajamento (curtidas, coment√°rios, compartilhamentos), alcance, crescimento de seguidores e outros KPIs. Gere relat√≥rios consolidados para avaliar o ROI das suas a√ß√µes.
*   **Gerenciamento Financeiro (Opcional)**: Se integrado ou utilizado para dados financeiros, oferece funcionalidades como sincroniza√ß√£o banc√°ria, gera√ß√£o de relat√≥rios financeiros e an√°lise de transa√ß√µes.
*   **Motor de Automa√ß√£o Robusto (Automator)**: Executa confiavelmente as tarefas agendadas, interagindo com as plataformas sociais.
*   **Agendador Flex√≠vel (Scheduler)**: Programe tarefas recorrentes ou pontuais com precis√£o.
*   **Sistema de Filas Escal√°vel**: Processa um grande volume de tarefas de forma ass√≠ncrona, com prioridades, retentativas autom√°ticas em caso de falha e balanceamento de carga, garantindo performance e confiabilidade.
*   **Monitoramento e Logs Avan√ßados**: Acompanhe a sa√∫de do sistema, performance e diagnostique problemas rapidamente atrav√©s de logs estruturados e m√©tricas detalhadas (compat√≠vel com Prometheus).
*   **Arquitetura Moderna e Escal√°vel**: Constru√≠do com tecnologias modernas (Node.js, React, TypeScript, Docker), utilizando cache distribu√≠do e design modular para suportar o crescimento do seu neg√≥cio.
*   **Seguran√ßa**: Gerenciamento seguro de credenciais e conex√µes com as plataformas sociais.

---

## üöÄ In√≠cio R√°pido

### Usando Docker (Recomendado)

1.  **Clone o reposit√≥rio**:
    ```bash
    git clone https://github.com/Ze-Well-Souza/techcare-connect-automator.git
    cd techcare-connect-automator
    ```

2.  **Configure o ambiente**: Crie um arquivo `.env` a partir do exemplo e ajuste as configura√ß√µes conforme sua necessidade.
    ```bash
    cp .env.example .env
    # Edite o arquivo .env com suas credenciais e configura√ß√µes
    # Nota: Credenciais espec√≠ficas (TECHCARE_USER/PASS) podem n√£o ser necess√°rias.
    # Configure as senhas de Redis e outras chaves de API que for usar.
    ```

3.  **Inicie os servi√ßos** com Docker Compose:
    ```bash
    docker-compose up -d
    ```

4.  **Acesse o dashboard** no seu navegador: `http://localhost:3000`

### Exemplo de arquivo `.env` Essencial

```dotenv
# Configura√ß√µes de Opera√ß√£o
NODE_ENV=production
OPERATION_MODE=dashboard # Mude para 'automator' ou 'scheduler' se rodar separadamente
MAX_CONCURRENCY=3      # N√∫mero de tarefas simult√¢neas

# Configura√ß√µes de Logs
LOG_LEVEL=info         # N√≠vel de detalhe: debug, info, warn, error
LOG_DIR=logs
LOG_FORMAT=json        # Formato: json ou text

# Configura√ß√µes do Redis (Obrigat√≥rio para Filas)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=sua_senha_forte_para_o_redis # Use uma senha segura!

# Chaves de API (Exemplo para IA)
# GEMINI_API_KEY=SUA_CHAVE_API_GEMINI

# Credenciais de Plataformas Sociais (Configuradas via Dashboard ou .env)
# Ex: INSTAGRAM_USER=seu_usuario
# Ex: INSTAGRAM_PASS=sua_senha
```

Consulte o arquivo `.env.example` para ver todas as vari√°veis de ambiente poss√≠veis.

## üèóÔ∏è Build com Docker

*(Se√ß√£o mantida como no original, relevante para deploy)*

### Build da Imagem

```bash
# Construir a imagem Docker
docker build -t techcare-connect-automator .

# Verificar a imagem constru√≠da
docker images | grep techcare-connect-automator
```

### Logs Esperados durante o Build

```
=> [builder 1/5] FROM node:18-slim@sha256:...
=> [builder 2/5] WORKDIR /app
=> [builder 3/5] COPY package*.json ./
=> [builder 4/5] RUN npm ci
=> [builder 5/5] COPY . .
=> [builder 6/5] RUN npm run build
=> [stage-2 1/8] FROM node:18-slim@sha256:...
=> [stage-2 2/8] RUN apt-get update && apt-get install -y chromium...
=> [stage-2 3/8] ENV PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true...
=> [stage-2 4/8] WORKDIR /app
=> [stage-2 5/8] COPY --from=builder /app/dist ./dist
=> [stage-2 6/8] COPY --from=builder /app/package*.json ./
=> [stage-2 7/8] RUN npm ci --only=production
=> [stage-2 8/8] COPY docker-entrypoint.sh ./
=> [stage-2 9/8] RUN chmod +x docker-entrypoint.sh
=> [stage-2 10/8] EXPOSE 3000
=> [stage-2 11/8] RUN addgroup --system appuser && adduser...
=> [stage-2 12/8] USER appuser
=> exporting to image
```

### Logs Esperados na Inicializa√ß√£o

```
techcare-automator    | 2025-05-22 01:45:12.345 [INFO]: Iniciando TechCare Connect Automator...
techcare-automator    | 2025-05-22 01:45:12.456 [INFO]: Verificando conex√£o com Redis...
techcare-automator    | 2025-05-22 01:45:12.567 [INFO]: Conex√£o com Redis estabelecida com sucesso.
techcare-automator    | 2025-05-22 01:45:12.678 [INFO]: Criando diret√≥rio /app/logs...
techcare-automator    | 2025-05-22 01:45:12.789 [INFO]: Criando diret√≥rio /app/config...
techcare-automator    | 2025-05-22 01:45:12.890 [INFO]: Criando diret√≥rio /app/data...
techcare-automator    | 2025-05-22 01:45:13.001 [INFO]: Configurando timezone: America/Sao_Paulo
techcare-automator    | 2025-05-22 01:45:13.112 [INFO]: Executando verifica√ß√£o de sa√∫de do sistema...
techcare-automator    | 2025-05-22 01:45:14.334 [INFO]: Verifica√ß√£o de sa√∫de conclu√≠da.
techcare-automator    | 2025-05-22 01:45:14.445 [INFO]: Iniciando aplica√ß√£o no modo: automator
techcare-automator    | 2025-05-22 01:45:14.556 [INFO]: Iniciando no modo automator...
```

## üß™ Testes

*(Se√ß√£o mantida como no original, relevante para desenvolvimento e valida√ß√£o)*

### Executando Testes

```bash
# Instalar depend√™ncias de desenvolvimento
npm install

# Executar todos os testes
npm test

# Executar testes com cobertura
npm run test:coverage

# Executar testes espec√≠ficos (ex: FinancialService)
npm test -- --testPathPattern=FinancialService
```

### Testes de Fluxo com Puppeteer Mockado

O projeto inclui testes de fluxo que simulam a navega√ß√£o sem necessidade de um navegador real:

```bash
# Executar apenas testes de fluxo
npm test -- --testPathPattern=Flow
```

## üìä Monitoramento e Logs

*(Se√ß√£o mantida como no original, relevante para opera√ß√£o)*

### Sistema de Logs Estruturados

O TechCare Connect Automator utiliza um sistema de logs estruturados (baseado em Winston) que oferece:

*   **N√≠veis de log**: debug, info, warn, error
*   **Formato estruturado**: JSON para f√°cil processamento por outras ferramentas.
*   **Timestamps precisos**: Para rastrear eventos.
*   **Contexto**: Identifica√ß√£o clara do m√≥dulo e opera√ß√£o.
*   **Medi√ß√£o de tempo**: Para opera√ß√µes cr√≠ticas.

### Configura√ß√£o de Logs

Configure via vari√°veis de ambiente:

```dotenv
LOG_LEVEL=info       # N√≠vel m√≠nimo (debug, info, warn, error)
LOG_DIR=logs         # Diret√≥rio para arquivos de log
LOG_FORMAT=json      # Formato (json ou text)
LOG_MAX_SIZE=10m     # Tamanho m√°ximo por arquivo (ex: 10m = 10MB)
LOG_MAX_FILES=7      # N√∫mero de arquivos a reter (rota√ß√£o)
LOG_CONSOLE=true     # Exibir no console (bom para desenvolvimento)
```

### Visualiza√ß√£o de Logs

Os logs s√£o armazenados no diret√≥rio configurado (`logs/` por padr√£o).

*   **Docker**: `/app/logs` dentro do container.
*   **Instala√ß√£o manual**: `./logs` no diret√≥rio do projeto.

Exemplo de visualiza√ß√£o:

```bash
# Ver logs em tempo real (se rodando com Docker Compose)
docker-compose logs -f automator

# Filtrar logs por n√≠vel (ex: apenas erros)
grep '"level":"error"' logs/automator.log # Se formato JSON
grep "ERROR" logs/automator.log # Se formato texto

# Analisar logs em formato JSON com 'jq'
cat logs/automator.log | jq "."
```

### Exemplo de Log Estruturado (JSON)

```json
{
  "level": "info",
  "message": "Processando item da fila 12345",
  "timestamp": "2025-05-22T01:45:12.345Z",
  "service": "automator",
  "context": "QueueManager",
  "jobId": "12345",
  "jobName": "publishInstagramPost",
  "attempt": 1,
  "maxRetries": 3
}
```

### M√©tricas (Prometheus)

Se habilitado (`ENABLE_METRICS=true`), o sistema exp√µe m√©tricas para monitoramento:

```bash
curl http://localhost:9090/metrics
```

## üîß Configura√ß√£o

*(Se√ß√£o mantida como no original, relevante para opera√ß√£o)*

### Modos de Opera√ß√£o

O sistema pode operar em tr√™s modos (definido por `OPERATION_MODE` no `.env`):

*   **`dashboard`**: Executa a interface web para gerenciamento.
*   **`automator`**: Executa o servi√ßo que processa as tarefas da fila.
*   **`scheduler`**: Executa o servi√ßo que agenda tarefas recorrentes.

Para rodar todos os modos juntos, use o `docker-compose.yml` que j√° define os servi√ßos separadamente.

### Sistema de Filas (BullMQ)

Configura√ß√µes avan√ßadas da fila podem ser ajustadas em `config/queue.json` (embora as padr√µes sejam geralmente suficientes):

```json
{
  "concurrency": 5,        // Tarefas processadas em paralelo por worker
  "maxRetries": 3,         // Tentativas m√°ximas por tarefa falha
  "retryDelay": 5000,      // Tempo (ms) antes da primeira retentativa
  "retryStrategy": "exponential", // Estrat√©gia de delay (exponential ou fixed)
  "retryMultiplier": 2     // Multiplicador para delay exponencial
}
```

## üîç Solu√ß√£o de Problemas

*(Se√ß√£o mantida como no original, relevante para opera√ß√£o)*

### Problemas Comuns

*   **Erro de Conex√£o com Plataforma Social**: Verifique credenciais, conex√£o com internet e status da plataforma.
*   **Erro de Conex√£o com Redis**: Garanta que o Redis est√° rodando, acess√≠vel e com a senha correta.
*   **Tarefas Travadas na Fila**: Pode indicar um problema no processamento. Verifique os logs do `automator` e use o comando para limpar tarefas antigas se necess√°rio:
    ```bash
    docker-compose exec automator npm run queue:clean
    ```

### An√°lise de Logs para Troubleshooting

Use os logs estruturados para diagnosticar problemas:

1.  **Identificar Erros**: `grep '"level":"error"' logs/*.log | jq "."`
2.  **Rastrear Opera√ß√£o Espec√≠fica**: `cat logs/*.log | jq 'select(.context=="InstagramConnector")'`
3.  **Analisar Dura√ß√£o**: `cat logs/*.log | jq 'select(.duration != null) | {message, duration, status}'`
4.  **Verificar Retentativas**: `cat logs/*.log | jq 'select(.attempt > 1)'`

## üìö Documenta√ß√£o Adicional

*(Se√ß√£o mantida como no original)*

*   [Arquitetura Detalhada](./docs/architecture/architecture.md)
*   [Documenta√ß√£o da API](./docs/api/api.md)
*   [Guia de Desenvolvimento](./docs/development.md)

## üìÑ Licen√ßa

*(Se√ß√£o mantida como no original)*

Este projeto √© licenciado sob a licen√ßa MIT - veja o arquivo LICENSE para detalhes.

